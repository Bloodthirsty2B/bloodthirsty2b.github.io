<!DOCTYPE html><html><head><meta charset="utf-8"><title>nodejs模块 | BS2B&#39;s blog</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="description" content="nodejs模块：相当于封装的js文件一、定义 在nodejs中，一个js文件就是一个模块 每个模块，都有一个独立的作用域，在自己 js文件中声明的变量和函数，只能在自己所在的模块中使用"><meta property="og:type" content="article"><meta property="og:title" content="nodejs模块"><meta property="og:url" content="https://bloodthirsty2b.github.io/2021/11/04/node/nodejs%E6%A8%A1%E5%9D%97/index.html"><meta property="og:site_name" content="BS2B&#39;s blog"><meta property="og:description" content="nodejs模块：相当于封装的js文件一、定义 在nodejs中，一个js文件就是一个模块 每个模块，都有一个独立的作用域，在自己 js文件中声明的变量和函数，只能在自己所在的模块中使用"><meta property="og:locale"><meta property="article:published_time" content="2021-11-04T13:28:39.000Z"><meta property="article:modified_time" content="2021-12-20T15:58:12.441Z"><meta property="article:author" content="Bloodthirsty2B"><meta property="article:tag" content="js"><meta property="article:tag" content="nodejs"><meta name="twitter:card" content="summary"><link rel="alternate" href="/atom.xml" title="BS2B&#39;s blog" type="application/atom+xml"><link rel="icon" href="/favicon.png"><link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css"><link rel="stylesheet" href="/css/style.css"><meta name="generator" content="Hexo 6.3.0"></head><body><div id="container"><div id="wrap"><header id="header"><div id="banner-wrap"><div id="canvas-gro"><canvas id="canvas-eff_behind" class="canvas" width="1920" height="400"></canvas><canvas id="canvas-eff_ghostimg" class="canvas" width="1920" height="300"></canvas><canvas id="canvas-main" class="canvas" width="1920" height="300"></canvas><canvas id="canvas-eff_front" class="canvas" width="1920" height="400"></canvas></div><div id="canvas-mask"></div><div id="banner" class="hide"></div></div><div id="header-outer" class="outer"><div id="header-title" class="inner"><h1 id="logo-wrap"><span href="/" id="logo">BS2B&#39;s blog</span></h1></div><div id="btn-animation-controler"><div id="btn-text">canvas初始化中…</div></div><div id="header-inner" class="inner"><nav id="main-nav"><a id="main-nav-toggle" class="nav-icon"></a> <a class="main-nav-link" href="/">Home</a> <a class="main-nav-link" href="/archives">Archives</a></nav><nav id="sub-nav"><a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a> <a id="nav-search-btn" class="nav-icon" title="Search"></a></nav><div id="search-form-wrap"><form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://bloodthirsty2b.github.io"></form></div></div></div></header><div class="outer"><section id="main"><article id="post-node/nodejs模块" class="article article-type-post" itemscope itemprop="blogPost"><div class="article-meta"><a href="/2021/11/04/node/nodejs%E6%A8%A1%E5%9D%97/" class="article-date"><time datetime="2021-11-04T13:28:39.000Z" itemprop="datePublished">2021-11-04</time></a><div class="article-category"><a class="article-category-link" href="/categories/js/">js</a>►<a class="article-category-link" href="/categories/js/nodejs/">nodejs</a></div></div><div class="article-inner"><header class="article-header"><h1 class="article-title" itemprop="name">nodejs模块</h1></header><div class="article-entry" itemprop="articleBody"><h1 id="nodejs模块：相当于封装的js文件"><a href="#nodejs模块：相当于封装的js文件" class="headerlink" title="nodejs模块：相当于封装的js文件"></a>nodejs模块：相当于封装的js文件</h1><h2 id="一、定义"><a href="#一、定义" class="headerlink" title="一、定义"></a>一、定义</h2><ol><li>在nodejs中，一个js文件就是一个模块</li><li>每个模块，都有一个独立的作用域，在自己 js文件中声明的变量和函数，只能在自己所在的模块中使用</li></ol><span id="more"></span><h2 id="二、分类"><a href="#二、分类" class="headerlink" title="二、分类"></a>二、分类</h2><p>模块共有三种：核心模块（nodejs自带模块）、第三方模块（其他人封装好的模块，需要先下载再引入）、自定义模块（可自行编写的灵活模块）</p><h2 id="三、模块的导入"><a href="#三、模块的导入" class="headerlink" title="三、模块的导入"></a>三、模块的导入</h2><h3 id="1-语法："><a href="#1-语法：" class="headerlink" title="1. 语法："></a>1. 语法：</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)  <span class="comment">// 核心模块的导入</span></span><br><span class="line"><span class="keyword">const</span> moment = <span class="built_in">require</span>(<span class="string">&#x27;moment&#x27;</span>)  <span class="comment">// 第三方模块的导入，方法应参考官方文档</span></span><br><span class="line"><span class="keyword">const</span> lalala = <span class="built_in">require</span>(<span class="string">&#x27;./lalala&#x27;</span>)  <span class="comment">// 自定义模块的导入</span></span><br></pre></td></tr></table></figure><p><em>导入的时候应该使用一个变量去接收</em></p><h3 id="2-模块导入的顺序："><a href="#2-模块导入的顺序：" class="headerlink" title="2. 模块导入的顺序："></a>2. 模块导入的顺序：</h3><p>① 先看是否是路径格式，如果是路径格式那就当作自定义模块，根据路径查找对应的文件进行加载；<br>② 再看是不是模块名格式，是模块名格式的话<br>③ 最后看是不是核心模块，是的话按照核心模块导入；如果不是核心模块，就当作第三方模块处理（会去当前文件夹中的node_modules中查找对应的包，如果当前文件夹内没有，会往上一级目录查找，直到根目录，根目录也没有的话就会报错）</p><p><em>所以 <code>const fs = require(&#39;./fs&#39;)</code> 会当作自定义模块查找</em></p><h2 id="四、模块的导出"><a href="#四、模块的导出" class="headerlink" title="四、模块的导出"></a>四、模块的导出</h2><ul><li><p>模块一定要导出才有封装的意义，不然模块中声明的变量和函数都是无法使用的</p></li><li><p>每个模块有一个独立的module全局变量（对象），在module对象中有一个exports的属性，代表当前模块的导出内容</p></li></ul><p>语法：</p><ol><li>module.exports.属性名 &#x3D; 函数</li><li>module.exports &#x3D; fn （只需要导出一个内容时可以直接覆盖module）</li><li>module.exports &#x3D; {fn, num, str} （以对象的形式覆盖）</li></ol><p><strong>module.exports和exports的区别</strong></p><p>虽然在模块中，module.exports和exports指向的是同一个对象（module.exports &#x3D;&#x3D;&#x3D; exports），但是一个模块的导出内容只是module.exports对应的内容</p><ol><li>直接添加属性的导出方法，exports也可以使用</li><li>覆盖方法对exports无效（覆盖了exports的指向，但是导出的依然是module.exports）</li></ol><h2 id="五、部分核心模块的使用"><a href="#五、部分核心模块的使用" class="headerlink" title="五、部分核心模块的使用"></a>五、部分核心模块的使用</h2><h3 id="1-fs模块（文件读写模块）"><a href="#1-fs模块（文件读写模块）" class="headerlink" title="1. fs模块（文件读写模块）"></a>1. fs模块（文件读写模块）</h3><pre><code> ① 写入文件
</code></pre><p>语法：<code>writeFile(文件路径, 写入的内容, 回调函数(err))</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line">fs.<span class="title function_">writeFile</span>(<span class="string">&#x27;xxx.txt&#x27;</span>, <span class="string">&#x27;hello world&#x27;</span>, <span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (err) &#123;</span><br><span class="line">    <span class="comment">// console.log(err)</span></span><br><span class="line">    <span class="comment">// return</span></span><br><span class="line">    <span class="keyword">throw</span> err <span class="comment">// 抛出异常，并中断整个程序的运行，严重错误中配合try...catch处理</span></span><br><span class="line">    		 	<span class="comment">// throw会中断整个程序的运行</span></span><br><span class="line">		 	 	<span class="comment">// return只会中断该函数的运行</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;写入成功&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>特点：</p><ul><li><p>如果文件存在，会覆盖原本内容</p></li><li><p>如果文件不存在，会创建一个文件</p></li><li><p>如果文件路径不存在，会报错，不会新建文件夹去写入</p><p>② 读取文件</p></li></ul><p>语法：<code>fs.readFile(文件路径, &#39;utf8&#39;, 回调函数(err, data))</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line">fs.<span class="title function_">readFile</span>(<span class="string">&#x27;xxx.txt&#x27;</span>, <span class="function">(<span class="params">err, data</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (err) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(err);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(data.<span class="title function_">toString</span>());</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// err：错误信息,null表示没有错误,node中应该优先处理错误(加一个判断)</span></span><br><span class="line"><span class="comment">// utf8: 编码，写utf-8一样，读取字符串的时候使用，如果读取的是图片、视频等二进制数据不要加</span></span><br><span class="line"><span class="comment">// data：读取的数据，如果参数里没有&#x27;utf8&#x27;，那么为二进制编码(buffer)(显示为16进制),需要用toString方法</span></span><br></pre></td></tr></table></figure><p>​	③ 追加文件<br>​<br>语法：<code>fs.appendFile(文件路径, 追加内容, 回调函数(err))</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line">fs.<span class="title function_">appendFile</span>(<span class="string">&#x27;xxx.txt&#x27;</span>, <span class="string">&#x27;哈哈哈&#x27;</span>, <span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (err) <span class="keyword">return</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;追加失败&#x27;</span>);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;追加成功&#x27;</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>​	<em>通常文件的读写都是异步的，不会阻塞主线程代码的执行</em><br>​	<code>fs.readFileSync(&#39;xxx.txt&#39;, &#39;utf8&#39;)</code><br>​	<code>fs.writeFileSync(&#39;xxx.txt&#39;, data)</code><br>​	<code>fs.appendFileSync(&#39;xxx.txt&#39;, data)</code><br>​	<em>而这三个都是同步的，代码可读性好，但是性能差(不需要回调函数)</em></p><h3 id="2-path模块"><a href="#2-path模块" class="headerlink" title="2. path模块"></a>2. path模块</h3><p><em>读写文件的规范：一律使用绝对路径</em><br><em>因为只要是相对路径，就是相对于node命令执行的路径，一旦命令行路径改变就会报错</em><br><em>要解决这个问题，可以使用 <code>__dirname + &#39;/xxx.txt&#39;</code>来作为路径使用</em><br><code>cd ..</code>👉回到上一级</p><p>语法：<code>path.join(路径A, 路径B, 路径C)</code></p><p>join方法会根据不同的系统（Windows、mac、linux）自动按照对应的分隔符进行路径合并</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> filePath = path.<span class="title function_">join</span>(<span class="string">&#x27;aa&#x27;</span>, <span class="string">&#x27;bb&#x27;</span>, <span class="string">&#x27;cc.js&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(filePath);<span class="comment">// aa\bb\cc.js 👉 windows系统下的格式</span></span><br><span class="line"><span class="keyword">const</span> filePath_join = path.<span class="title function_">join</span>(__dirname, <span class="string">&#x27;xxx.txt&#x27;</span>) <span class="comment">// 这才是通常使用的格式</span></span><br></pre></td></tr></table></figure><p>如果要回到上一级目录的话，可以使用<code>path.resolve</code>方法</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="comment">// 目前文件目录：/server/app.js</span></span><br><span class="line"><span class="keyword">const</span> filePath = path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;..&#x27;</span>, <span class="string">&#x27;assert&#x27;</span>, <span class="string">&#x27;favicon.ico&#x27;</span>)</span><br><span class="line"><span class="comment">// 可以获取到/assert/favicon.ico</span></span><br><span class="line"><span class="comment">// 相当于用每个参数执行了cd命令，所以中间如果有/开头的目录则会回到根目录</span></span><br></pre></td></tr></table></figure><h3 id="3-http模块（建立服务器）"><a href="#3-http模块（建立服务器）" class="headerlink" title="3. http模块（建立服务器）"></a>3. http模块（建立服务器）</h3><p>响应请求的简单步骤：</p><p>​	① 建立服务器，监听端口</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">&#x27;http&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> server = http.<span class="title function_">createServer</span>()</span><br><span class="line">server.<span class="title function_">listen</span>(<span class="number">8080</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;服务器已启动，端口号8080&quot;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>​	② 给服务器添加请求事件（请求报文，响应报文）</p><p>​	③ 根据请求报文的内容做判断，返回数据或者404错误</p><p>​	④ 返回数据的话先找到文件，然后发送响应报文（状态行，响应头，响应体）</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">server.<span class="title function_">on</span>(<span class="string">&#x27;request&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 设置响应头必须放在响应体的前面</span></span><br><span class="line">  res.<span class="title function_">setHeader</span>(<span class="string">&#x27;content-type&#x27;</span>, <span class="string">&#x27;text/html; charset=utf-8&#x27;</span>)</span><br><span class="line">  <span class="keyword">if</span> (req.<span class="property">url</span> === <span class="string">&#x27;/&#x27;</span> || req.<span class="property">url</span> === <span class="string">&#x27;/index.html&#x27;</span>) &#123;</span><br><span class="line">    res.<span class="title function_">write</span>(<span class="string">&#x27;first&#x27;</span>)</span><br><span class="line">    res.<span class="title function_">write</span>(<span class="string">&#x27;second&#x27;</span>)</span><br><span class="line">    res.<span class="title function_">write</span>(<span class="string">&#x27;third&#x27;</span>)</span><br><span class="line">    res.<span class="title function_">end</span>(<span class="string">&#x27;end&#x27;</span>)  <span class="comment">// 如果只需要响应简单信息那么写在这里面就好</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    res.<span class="property">statusCode</span> = <span class="number">404</span></span><br><span class="line">    res.<span class="title function_">end</span>(<span class="string">&#x27;404&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="4-url模块（用于获取url中包含的所有信息-）"><a href="#4-url模块（用于获取url中包含的所有信息-）" class="headerlink" title="4. url模块（用于获取url中包含的所有信息 ）"></a>4. url模块（用于获取url中包含的所有信息 ）</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> url = <span class="built_in">require</span>(<span class="string">&#x27;url&#x27;</span>)  <span class="comment">// 引入url模块</span></span><br><span class="line">url.<span class="title function_">parse</span>(filePath, <span class="literal">true</span>)</span><br><span class="line">  <span class="comment">// url.parse(路径，布尔值)</span></span><br><span class="line">  <span class="comment">// 参数一：需要解析的路径地址（http://localhost:8080/delete?id=xx&amp;username=xx)</span></span><br><span class="line">  <span class="comment">// 参数二：true表示需要对query属性值进行解析，false时显示id=xx&amp;username=xx</span></span><br><span class="line"><span class="comment">// 输出结果：</span></span><br><span class="line">&#123;</span><br><span class="line">    protocol : <span class="string">&#x27;http&#x27;</span>,</span><br><span class="line">	auth : <span class="literal">null</span>,</span><br><span class="line">	host : <span class="string">&#x27;localhost:8080&#x27;</span>,</span><br><span class="line">	port : <span class="string">&#x27;8080&#x27;</span>,</span><br><span class="line">	hostname : <span class="string">&#x27;localhost&#x27;</span>,</span><br><span class="line">	hash : <span class="literal">null</span>,</span><br><span class="line">	search : <span class="string">&#x27;?id=xx&amp;username=xx&#x27;</span>,</span><br><span class="line">	query : <span class="string">&#x27;id=xx&amp;username=xx&#x27;</span>,</span><br><span class="line">	pathname : <span class="string">&#x27;/delete&#x27;</span>,</span><br><span class="line">	path : <span class="string">&#x27;/delete?id=xx&amp;username=xx&#x27;</span>,</span><br><span class="line">	href : <span class="string">&#x27;http://localhost:8080/delete?id=xx&amp;username=xx&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-queryString模块-用于将url模块获取的query转化为对象"><a href="#5-queryString模块-用于将url模块获取的query转化为对象" class="headerlink" title="5. queryString模块(用于将url模块获取的query转化为对象)"></a>5. queryString模块(用于将url模块获取的query转化为对象)</h3><p>处理POST请求的注意点：<br>① <code>req.method</code>用来获取请求方式，其值GET和POST只会是大写的<br>② node默认不会解析请求体内容（恶意post请求会消耗大量性能），需要自行获取信任的内容<br>③ POST请求的参数可能很大，一次性拿不完，需要逐步获取，所以需要用到data和end事件</p><p>data和end的使用：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> result = <span class="string">&#x27;&#x27;</span></span><br><span class="line">req.<span class="title function_">on</span>(<span class="string">&#x27;data&#x27;</span>, <span class="function"><span class="params">chunk</span> =&gt;</span> &#123;</span><br><span class="line">  result += chunk</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;已获取数据&#x27;</span>)  <span class="comment">// 因为会逐步接受，所以会显示很多次</span></span><br><span class="line">&#125;)</span><br><span class="line">req.<span class="title function_">on</span>(<span class="string">&#x27;end&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;数据获取结束&#x27;</span>) </span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// result便是最终获取的请求体内容</span></span><br></pre></td></tr></table></figure><p>​	④ 这样就可以使用queryString模块内的方法解析post请求内容了</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// result = &#x27;name=xxx&amp;title=xxx&amp;content=xxx&#x27;</span></span><br><span class="line"><span class="keyword">const</span> querystring = <span class="built_in">require</span>(<span class="string">&#x27;querystring&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> query = querystring.<span class="title function_">parse</span>(result)</span><br></pre></td></tr></table></figure></div><footer class="article-footer"><a data-url="https://bloodthirsty2b.github.io/2021/11/04/node/nodejs%E6%A8%A1%E5%9D%97/" data-id="cm6z8q6l900578ou80sks6pwf" class="article-share-link">Share</a><ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/js/" rel="tag">js</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nodejs/" rel="tag">nodejs</a></li></ul></footer></div><nav id="article-nav"><a href="/2021/11/04/test/%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7postman/" id="article-nav-newer" class="article-nav-link-wrap"><strong class="article-nav-caption">Newer</strong><div class="article-nav-title">接口测试工具postman</div></a><a href="/2021/11/04/node/nodejs%E9%83%A8%E5%88%86%E5%AE%9E%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9%E6%A8%A1%E5%9D%97%E4%BB%8B%E7%BB%8D/" id="article-nav-older" class="article-nav-link-wrap"><strong class="article-nav-caption">Older</strong><div class="article-nav-title">nodejs部分实用第三方模块介绍</div></a></nav></article></section><aside id="sidebar"><div class="widget-wrap"><h3 class="widget-title">Categories</h3><div class="widget"><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/React/">React</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Vue/">Vue</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Vue/Element-ui/">Element-ui</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Vue/Vuex/">Vuex</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/canvas/">canvas</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/css/">css</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/css/mobile/">mobile</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/html/">html</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js/">js</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/js/Ajax/">Ajax</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js/JQuery/">JQuery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js/RegExp/">RegExp</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js/es6/">es6</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js/nodejs/">nodejs</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js/webAPI/">webAPI</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/miniProgram/">miniProgram</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/plugin/">plugin</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/test/">test</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/test/Git/">Git</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/webpack/">webpack</a></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">Tags</h3><div class="widget"><ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ajax/" rel="tag">Ajax</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Element-ui/" rel="tag">Element-ui</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/" rel="tag">Git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JQuery/" rel="tag">JQuery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/" rel="tag">React</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RegExp/" rel="tag">RegExp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vue/" rel="tag">Vue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vuex/" rel="tag">Vuex</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/canvas/" rel="tag">canvas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css/" rel="tag">css</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/es6/" rel="tag">es6</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/html/" rel="tag">html</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/" rel="tag">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/miniProgram/" rel="tag">miniProgram</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mobile/" rel="tag">mobile</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nodejs/" rel="tag">nodejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/plugin/" rel="tag">plugin</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/test/" rel="tag">test</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webAPI/" rel="tag">webAPI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webpack/" rel="tag">webpack</a></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">Tag Cloud</h3><div class="widget tagcloud"><a href="/tags/Ajax/" style="font-size:13.75px">Ajax</a> <a href="/tags/Element-ui/" style="font-size:10px">Element-ui</a> <a href="/tags/Git/" style="font-size:10px">Git</a> <a href="/tags/JQuery/" style="font-size:15px">JQuery</a> <a href="/tags/React/" style="font-size:15px">React</a> <a href="/tags/RegExp/" style="font-size:10px">RegExp</a> <a href="/tags/Vue/" style="font-size:18.75px">Vue</a> <a href="/tags/Vuex/" style="font-size:10px">Vuex</a> <a href="/tags/canvas/" style="font-size:13.75px">canvas</a> <a href="/tags/css/" style="font-size:17.5px">css</a> <a href="/tags/es6/" style="font-size:18.75px">es6</a> <a href="/tags/html/" style="font-size:10px">html</a> <a href="/tags/js/" style="font-size:20px">js</a> <a href="/tags/miniProgram/" style="font-size:15px">miniProgram</a> <a href="/tags/mobile/" style="font-size:13.75px">mobile</a> <a href="/tags/nodejs/" style="font-size:13.75px">nodejs</a> <a href="/tags/plugin/" style="font-size:15px">plugin</a> <a href="/tags/test/" style="font-size:12.5px">test</a> <a href="/tags/webAPI/" style="font-size:16.25px">webAPI</a> <a href="/tags/webpack/" style="font-size:11.25px">webpack</a></div></div><div class="widget-wrap"><h3 class="widget-title">Archives</h3><div class="widget"><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/02/">February 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/12/">December 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/08/">August 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/07/">July 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/05/">May 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/03/">March 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/12/">December 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/07/">July 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/05/">May 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">March 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">February 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">January 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">December 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">July 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">Recent Posts</h3><div class="widget"><ul><li><a href="/2025/02/04/js/%E7%BB%99%E5%AF%B9%E8%B1%A1%E6%B7%BB%E5%8A%A0filter%E6%96%B9%E6%B3%95/">给对象添加filter方法</a></li><li><a href="/2024/12/25/js/export-default%E5%92%8Cimport%E7%9A%84%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC/">export default和import的解构赋值</a></li><li><a href="/2024/12/18/html/blob%E5%BC%80%E5%A4%B4%E7%9A%84%E8%A7%86%E9%A2%91%E5%9C%B0%E5%9D%80/">blob开头的视频地址</a></li><li><a href="/2024/08/13/js/%E6%AD%A3%E5%88%99%E8%BF%9B%E9%98%B6/">正则进阶</a></li><li><a href="/2024/07/11/js/try-catch-finally/">try catch finally</a></li></ul></div></div></aside></div><footer id="footer"><div class="outer"><div id="footer-info" class="inner">&copy; 2025 Bloodthirsty2B<br>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a></div></div></footer></div><nav id="mobile-nav"><a href="/" class="mobile-nav-link">Home</a> <a href="/archives" class="mobile-nav-link">Archives</a></nav><script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script><link rel="stylesheet" href="/fancybox/jquery.fancybox.css"><script src="/fancybox/jquery.fancybox.pack.js"></script><script src="/js/script.js"></script></div><script src="/js/c1.js"></script><script src="/js/c2.js"></script><style>[bg-lazy]{background-image:none!important;background-color:#eee!important}</style><script>window.imageLazyLoadSetting={isSPA:!1,preloadRatio:1,processImages:null}</script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})})</script><script>!function(e){e.imageLazyLoadSetting.processImages=t;var n=e.imageLazyLoadSetting.isSPA,i=e.imageLazyLoadSetting.preloadRatio||1,r=o();function o(){var t=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")),e=Array.prototype.slice.call(document.querySelectorAll("[bg-lazy]"));return t.concat(e)}function t(){n&&(r=o());for(var t,a=0;a<r.length;a++)0<=(t=(t=r[a]).getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(e.innerHeight*i||document.documentElement.clientHeight*i)&&function(){var t,e,n,i=r[a],o=function(){r=r.filter(function(t){return i!==t})};(t=i).hasAttribute("bg-lazy")?(t.removeAttribute("bg-lazy"),o()):(e=new Image,n=t.getAttribute("data-original"),e.onload=function(){t.src=n,t.removeAttribute("data-original"),o()},t.src!==n&&(e.src=n))}()}function a(){clearTimeout(t.tId),t.tId=setTimeout(t,500)}t(),document.addEventListener("scroll",a),e.addEventListener("resize",a),e.addEventListener("orientationchange",a)}(this)</script></body></html>